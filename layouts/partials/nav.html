{{- $edition := printf "%s" .Section -}}
{{- $contenttype := hugo.Environment -}}
{{- if index .Site.Data $contenttype $edition "toc" -}}
<nav>
  <ul uk-accordion>
    {{- range index .Site.Data $contenttype $edition "toc" -}}
    <li>
      <a class="uk-accordion-title" href="#">{{ .title }} <span uk-nav-parent-icon></span></a>
      <ul uk-accordion class="uk-accordion-content">
        {{- range .items -}}
        {{- if .items -}}
        <li>
          <a class="uk-accordion-title" href="#">{{ .title }} <span uk-nav-parent-icon></span></a>
          <ul uk-accordion class="uk-accordion-content">
            {{- range .items -}}
            <li class="{{ if eq $.Slug .slug }}active{{ end }}">
              {{- $url := printf "/%s/%s" $.Section .slug -}}
              <a class="uk-accordion-title uk-accordion-link" href="{{ $url }}">{{ .title }}</a>
            </li>
            {{- end -}}
          </ul>
        </li>
        {{- else -}}
        <li class="{{ if eq $.Slug .slug }}active{{ end }}">
          {{- $url := printf "/%s/%s" $.Section .slug -}}
          <a class="uk-accordion-title uk-accordion-link" href="{{ $url }}">{{ .title }}</a>
        </li>
        {{- end -}}
        {{- end -}}
      </ul>
    </li>
    {{- end -}}
  </ul>
</nav>
{{- end -}}